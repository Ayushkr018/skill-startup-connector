<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing & Plans - SkillSync AI</title>
    <meta name="description" content="Manage your billing, subscription plans, and payment history for SkillSync AI platform">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        :root {
            /* Enhanced Color Palette */
            --primary-color: #7C3AED;
            --primary-dark: #6D28D9;
            --primary-light: #A78BFA;
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            
            --success-color: #10B981;
            --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            --warning-color: #F59E0B;
            --warning-gradient: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --error-color: #EF4444;
            --error-gradient: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            --info-gradient: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            
            /* Neutral Colors */
            --white: #FFFFFF;
            --gray-50: #F9FAFB;
            --gray-100: #F3F4F6;
            --gray-200: #E5E7EB;
            --gray-300: #D1D5DB;
            --gray-400: #9CA3AF;
            --gray-500: #6B7280;
            --gray-600: #4B5563;
            --gray-700: #374151;
            --gray-800: #1F2937;
            --gray-900: #111827;
            
            /* Typography */
            --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-secondary: 'Poppins', sans-serif;
            
            /* Spacing System */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            
            /* Border Radius */
            --radius-sm: 0.375rem;
            --radius-md: 0.5rem;
            --radius-lg: 0.75rem;
            --radius-xl: 1rem;
            --radius-2xl: 1.5rem;
            --radius-full: 9999px;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            
            /* Transitions */
            --transition-fast: 0.15s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Layout */
            --container-max-width: 1200px;
            --header-height: 80px;
        }

        /* Enhanced Base Reset - LAPTOP WHITESPACE FIX */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            width: 100%;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-primary);
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--gray-800);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            min-height: 100vh;
            width: 100%;
            overflow-x: hidden;
            margin: 0;
            padding: 0;
        }

        /* Enhanced Header - Better Width Control */
        .billing-header {
            background: var(--primary-gradient);
            color: white;
            padding: var(--space-2xl) 0;
            position: relative;
            overflow: hidden;
            border-radius: 0 0 2rem 2rem;
            box-shadow: var(--shadow-xl);
            width: 100%;
            margin-bottom: var(--space-xl);
        }

        .billing-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="rgba(255,255,255,0.1)"><circle cx="100" cy="20" r="20"/><circle cx="300" cy="40" r="15"/><circle cx="500" cy="10" r="25"/><circle cx="700" cy="30" r="18"/><circle cx="900" cy="15" r="22"/></svg>') repeat-x;
            animation: float 20s infinite linear;
        }

        @keyframes float {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100px); }
        }

        .header-container {
            max-width: var(--container-max-width);
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            position: relative;
            z-index: 2;
            padding: 0 var(--space-xl);
            width: 100%;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-lg);
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: var(--radius-xl);
            color: white;
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all var(--transition-base);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            white-space: nowrap;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateX(-4px);
            box-shadow: var(--shadow-lg);
        }

        .header-content {
            text-align: center;
            flex: 1;
            margin: 0 var(--space-xl);
            max-width: 800px;
        }

        .header-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: var(--space-md);
            font-family: var(--font-secondary);
            background: linear-gradient(45deg, #fff, #e2e8f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-subtitle {
            font-size: 1.125rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            font-weight: 400;
        }

        /* Enhanced Main Container - Perfect Width Control */
        .billing-container {
            max-width: var(--container-max-width);
            margin: 0 auto;
            padding: 0 var(--space-xl) var(--space-3xl);
            position: relative;
            width: 100%;
        }

        /* Enhanced Billing Content */
        .billing-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-2xl);
            margin-bottom: var(--space-2xl);
            width: 100%;
        }

        .billing-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-2xl);
            padding: var(--space-2xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: slideUp 0.6s ease-out;
            width: 100%;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gray-900);
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }

        .section-icon {
            font-size: 1.25rem;
            color: var(--primary-color);
        }

        /* Current Plan Card */
        .current-plan {
            background: var(--primary-gradient);
            color: white;
            border-radius: var(--radius-xl);
            padding: var(--space-xl);
            margin-bottom: var(--space-lg);
            position: relative;
            overflow: hidden;
        }

        .current-plan::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 100px;
            height: 100px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--radius-full);
            animation: pulse 3s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.3; }
            50% { transform: scale(1.2); opacity: 0.1; }
        }

        .plan-name {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: var(--space-sm);
        }

        .plan-price {
            font-size: 2rem;
            font-weight: 800;
            margin-bottom: var(--space-sm);
        }

        .plan-billing {
            opacity: 0.8;
            margin-bottom: var(--space-lg);
        }

        .plan-features {
            list-style: none;
            margin-bottom: var(--space-lg);
        }

        .plan-features li {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            margin-bottom: var(--space-sm);
            font-size: 0.875rem;
        }

        .plan-features li i {
            color: rgba(255, 255, 255, 0.8);
        }

        /* Plan Options */
        .plan-options {
            display: grid;
            gap: var(--space-lg);
        }

        .plan-option {
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-xl);
            padding: var(--space-lg);
            transition: all var(--transition-base);
            cursor: pointer;
            position: relative;
            width: 100%;
        }

        .plan-option:hover {
            border-color: var(--primary-color);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .plan-option.popular {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, #fff 0%, #f8fafc 100%);
        }

        .plan-option.popular::before {
            content: 'Most Popular';
            position: absolute;
            top: -10px;
            right: var(--space-lg);
            background: var(--primary-color);
            color: white;
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
        }

        .plan-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-md);
        }

        .plan-info h3 {
            font-size: 1.125rem;
            font-weight: 700;
            color: var(--gray-900);
            margin-bottom: var(--space-xs);
        }

        .plan-info p {
            color: var(--gray-600);
            font-size: 0.875rem;
        }

        .plan-pricing {
            text-align: right;
        }

        .plan-pricing .price {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-color);
        }

        .plan-pricing .period {
            font-size: 0.75rem;
            color: var(--gray-500);
        }

        /* Enhanced Billing History - Fixed Mobile Overlap */
        .billing-history {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: var(--radius-2xl);
            padding: var(--space-2xl);
            box-shadow: var(--shadow-xl);
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 100%;
            margin-bottom: var(--space-2xl);
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-xl);
            flex-wrap: wrap;
            gap: var(--space-md);
        }

        .download-section {
            display: flex;
            gap: var(--space-md);
            flex-wrap: wrap;
        }

        /* Enhanced Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-md) var(--space-lg);
            border: none;
            border-radius: var(--radius-lg);
            font-size: 0.875rem;
            font-weight: 600;
            text-decoration: none;
            cursor: pointer;
            transition: all var(--transition-base);
            position: relative;
            overflow: hidden;
            white-space: nowrap;
            min-width: fit-content;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn-primary {
            background: var(--primary-gradient);
            color: white;
            box-shadow: var(--shadow-md);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-outline {
            background: white;
            color: var(--primary-color);
            border: 2px solid var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        .btn-success {
            background: var(--success-gradient);
            color: white;
        }

        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Enhanced History Table */
        .history-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: var(--space-lg);
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
        }

        .history-table th {
            background: var(--gray-50);
            padding: var(--space-lg);
            text-align: left;
            font-weight: 600;
            color: var(--gray-700);
            font-size: 0.875rem;
            border-bottom: 1px solid var(--gray-200);
        }

        .history-table td {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--gray-100);
            font-size: 0.875rem;
        }

        .history-table tr:hover {
            background: var(--gray-50);
        }

        .status-badge {
            padding: var(--space-xs) var(--space-md);
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .status-paid {
            background: rgba(16, 185, 129, 0.1);
            color: var(--success-color);
        }

        .status-pending {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning-color);
        }

        .status-failed {
            background: rgba(239, 68, 68, 0.1);
            color: var(--error-color);
        }

        /* Payment Methods */
        .payment-methods {
            display: grid;
            gap: var(--space-lg);
        }

        .payment-method {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-lg);
            background: white;
            border: 2px solid var(--gray-200);
            border-radius: var(--radius-xl);
            transition: all var(--transition-base);
        }

        .payment-method:hover {
            border-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .payment-method.default {
            border-color: var(--success-color);
            background: linear-gradient(135deg, #fff 0%, #f0fdf4 100%);
        }

        .method-info {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }

        .method-icon {
            width: 50px;
            height: 32px;
            background: var(--primary-gradient);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 0.75rem;
        }

        .method-details h4 {
            font-weight: 600;
            color: var(--gray-900);
            margin-bottom: var(--space-xs);
        }

        .method-details p {
            color: var(--gray-600);
            font-size: 0.875rem;
        }

        .method-actions {
            display: flex;
            gap: var(--space-sm);
        }

        .btn-sm {
            padding: var(--space-sm) var(--space-md);
            font-size: 0.75rem;
        }

        /* RESPONSIVE DESIGN - Mobile Fixes */

        /* Laptop Specific Fixes (1025px - 1920px) */
        @media (min-width: 1025px) and (max-width: 1920px) {
            html, body {
                width: 100%;
                max-width: 100%;
                overflow-x: hidden;
            }
            
            .billing-container {
                width: 100%;
                max-width: var(--container-max-width);
                margin-left: auto;
                margin-right: auto;
                padding-left: var(--space-xl);
                padding-right: var(--space-xl);
            }
            
            .billing-content {
                max-width: 100%;
                grid-template-columns: 1fr 1fr;
            }
            
            .billing-history {
                max-width: 100%;
            }
            
            .history-table {
                width: 100%;
                table-layout: fixed;
            }
            
            /* Force proper box-sizing */
            *, *::before, *::after {
                box-sizing: border-box;
                max-width: 100%;
            }
        }

        /* Tablet View (769px - 1024px) */
        @media (max-width: 1024px) and (min-width: 769px) {
            .billing-content {
                grid-template-columns: 1fr;
                gap: var(--space-xl);
            }
            
            .header-container {
                flex-direction: column;
                align-items: center;
                gap: var(--space-lg);
            }
            
            .header-content {
                margin: 0;
            }
        }

        /* Mobile View - FIXED OVERLAP ISSUES */
        @media (max-width: 768px) {
            /* Header Mobile Layout - FIXED */
            .billing-header {
                padding: var(--space-lg) 0;
                margin-bottom: var(--space-lg);
            }
            
            .header-container {
                flex-direction: column;
                align-items: stretch;
                gap: var(--space-lg);
                padding: 0 var(--space-md);
            }
            
            .back-btn {
                align-self: flex-start;
                margin-bottom: var(--space-md);
                width: fit-content;
                z-index: 10;
            }
            
            .header-content {
                margin: 0;
                text-align: center;
                order: 2;
            }
            
            .header-title {
                font-size: 2rem;
                margin-bottom: var(--space-sm);
            }
            
            .header-subtitle {
                font-size: 1rem;
            }
            
            /* Container Mobile Layout */
            .billing-container {
                padding: 0 var(--space-md) var(--space-2xl);
            }
            
            /* Content Mobile Layout */
            .billing-content {
                grid-template-columns: 1fr;
                gap: var(--space-lg);
            }
            
            .billing-section {
                padding: var(--space-lg);
            }
            
            /* History Header Mobile - FIXED OVERLAP */
            .history-header {
                flex-direction: column;
                align-items: stretch;
                gap: var(--space-lg);
                margin-bottom: var(--space-lg);
            }
            
            .section-title {
                font-size: 1.25rem;
                justify-content: center;
            }
            
            .download-section {
                justify-content: center;
                flex-wrap: wrap;
                gap: var(--space-sm);
            }
            
            /* Button Mobile Fixes */
            .btn {
                flex: 1;
                min-width: 120px;
                max-width: 200px;
                justify-content: center;
                padding: var(--space-md) var(--space-lg);
                font-size: 0.875rem;
            }
            
            /* Table Mobile Responsive */
            .history-table {
                font-size: 0.75rem;
            }
            
            .history-table th,
            .history-table td {
                padding: var(--space-md);
            }
            
            .history-table th:nth-child(n+4),
            .history-table td:nth-child(n+4) {
                display: none;
            }
            
            /* Payment Methods Mobile */
            .payment-method {
                flex-direction: column;
                gap: var(--space-md);
                text-align: center;
            }
            
            .method-info {
                flex-direction: column;
                gap: var(--space-md);
            }
            
            .method-actions {
                width: 100%;
                justify-content: center;
            }
            
            /* Plan Options Mobile */
            .plan-header {
                flex-direction: column;
                gap: var(--space-md);
                text-align: center;
            }
            
            .plan-pricing {
                text-align: center;
            }
        }

        /* Small Mobile (480px and below) */
        @media (max-width: 480px) {
            .billing-container {
                padding: 0 var(--space-sm) var(--space-xl);
            }
            
            .billing-section {
                padding: var(--space-md);
            }
            
            .header-title {
                font-size: 1.75rem;
            }
            
            .btn {
                min-width: 100px;
                padding: var(--space-sm) var(--space-md);
                font-size: 0.8rem;
            }
            
            .download-section {
                flex-direction: column;
                align-items: stretch;
            }
            
            .download-section .btn {
                max-width: none;
                width: 100%;
            }
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: var(--space-lg) var(--space-xl);
            border-radius: var(--radius-xl);
            color: white;
            font-weight: 600;
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
            box-shadow: var(--shadow-xl);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 400px;
        }

        .toast.success { background: var(--success-gradient); }
        .toast.warning { background: var(--warning-gradient); }
        .toast.info { background: var(--info-gradient); color: var(--gray-800); }
        .toast.error { background: var(--error-gradient); }

        @keyframes slideInRight {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Loading Animation */
        .loading-shimmer {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        /* Utility Classes */
        .text-center { text-align: center !important; }
        .font-bold { font-weight: var(--font-weight-bold) !important; }
        .text-primary { color: var(--primary-color) !important; }
        .mb-0 { margin-bottom: 0 !important; }
        .mt-lg { margin-top: var(--space-lg) !important; }
    </style>
</head>

<body>
    <!-- Enhanced Header -->
    <header class="billing-header">
        <div class="header-container">
            <a href="startup-dashboard.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
                <span>Back to Dashboard</span>
            </a>
            
            <div class="header-content">
                <h1 class="header-title">Billing & Plans</h1>
                <p class="header-subtitle">
                    Manage your subscription, billing history, and payment methods
                </p>
            </div>
        </div>
    </header>

    <!-- Main Container -->
    <div class="billing-container">
        <!-- Billing Content Grid -->
        <div class="billing-content">
            <!-- Current Plan Section -->
            <div class="billing-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-crown section-icon"></i>
                        Current Plan
                    </h2>
                </div>
                
                <div class="current-plan">
                    <div class="plan-name">Professional Plan</div>
                    <div class="plan-price">‚Çπ2,999 <span style="font-size: 1rem; opacity: 0.8;">/ month</span></div>
                    <div class="plan-billing">Billed monthly ‚Ä¢ Next billing: March 15, 2024</div>
                    
                    <ul class="plan-features">
                        <li><i class="fas fa-check"></i> Unlimited candidate assessments</li>
                        <li><i class="fas fa-check"></i> Advanced AI insights</li>
                        <li><i class="fas fa-check"></i> Custom skill tests</li>
                        <li><i class="fas fa-check"></i> Priority support</li>
                        <li><i class="fas fa-check"></i> Team collaboration tools</li>
                    </ul>
                    
                    <button class="btn btn-outline" style="background: rgba(255,255,255,0.2); border-color: rgba(255,255,255,0.3); color: white;" onclick="openUpgradeModal()">
                        <i class="fas fa-arrow-up"></i>
                        Upgrade Plan
                    </button>
                </div>
            </div>

            <!-- Available Plans Section -->
            <div class="billing-section">
                <div class="section-header">
                    <h2 class="section-title">
                        <i class="fas fa-list-alt section-icon"></i>
                        Available Plans
                    </h2>
                </div>
                
                <div class="plan-options">
                    <div class="plan-option">
                        <div class="plan-header">
                            <div class="plan-info">
                                <h3>Starter Plan</h3>
                                <p>Perfect for small teams</p>
                            </div>
                            <div class="plan-pricing">
                                <div class="price">‚Çπ999</div>
                                <div class="period">per month</div>
                            </div>
                        </div>
                        <button class="btn btn-outline" onclick="selectPlan('starter')">
                            <i class="fas fa-check"></i>
                            Select Plan
                        </button>
                    </div>

                    <div class="plan-option popular">
                        <div class="plan-header">
                            <div class="plan-info">
                                <h3>Professional Plan</h3>
                                <p>Most popular choice</p>
                            </div>
                            <div class="plan-pricing">
                                <div class="price">‚Çπ2,999</div>
                                <div class="period">per month</div>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="selectPlan('professional')">
                            <i class="fas fa-crown"></i>
                            Current Plan
                        </button>
                    </div>

                    <div class="plan-option">
                        <div class="plan-header">
                            <div class="plan-info">
                                <h3>Enterprise Plan</h3>
                                <p>For large organizations</p>
                            </div>
                            <div class="plan-pricing">
                                <div class="price">‚Çπ9,999</div>
                                <div class="period">per month</div>
                            </div>
                        </div>
                        <button class="btn btn-success" onclick="selectPlan('enterprise')">
                            <i class="fas fa-arrow-up"></i>
                            Upgrade
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Billing History Section - FIXED MOBILE OVERLAP -->
        <div class="billing-history">
            <div class="history-header">
                <h2 class="section-title">
                    <i class="fas fa-history section-icon"></i>
                    Billing History
                </h2>
                <div class="download-section">
                    <button class="btn btn-outline" onclick="downloadHistory('pdf')">
                        <i class="fas fa-file-pdf"></i>
                        PDF
                    </button>
                    <button class="btn btn-outline" onclick="downloadHistory('excel')">
                        <i class="fas fa-file-excel"></i>
                        Excel
                    </button>
                    <button class="btn btn-primary" onclick="downloadHistory('csv')">
                        <i class="fas fa-download"></i>
                        CSV
                    </button>
                </div>
            </div>

            <table class="history-table">
                <thead>
                    <tr>
                        <th>Invoice</th>
                        <th>Date</th>
                        <th>Amount</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>#INV-2024-001</td>
                        <td>Feb 15, 2024</td>
                        <td>‚Çπ2,999</td>
                        <td><span class="status-badge status-paid">Paid</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline" onclick="viewInvoice('INV-2024-001')">
                                <i class="fas fa-eye"></i>
                                View
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#INV-2024-002</td>
                        <td>Jan 15, 2024</td>
                        <td>‚Çπ2,999</td>
                        <td><span class="status-badge status-paid">Paid</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline" onclick="viewInvoice('INV-2024-002')">
                                <i class="fas fa-eye"></i>
                                View
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#INV-2023-012</td>
                        <td>Dec 15, 2023</td>
                        <td>‚Çπ2,999</td>
                        <td><span class="status-badge status-paid">Paid</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline" onclick="viewInvoice('INV-2023-012')">
                                <i class="fas fa-eye"></i>
                                View
                            </button>
                        </td>
                    </tr>
                    <tr>
                        <td>#INV-2023-011</td>
                        <td>Nov 15, 2023</td>
                        <td>‚Çπ999</td>
                        <td><span class="status-badge status-pending">Pending</span></td>
                        <td>
                            <button class="btn btn-sm btn-outline" onclick="viewInvoice('INV-2023-011')">
                                <i class="fas fa-eye"></i>
                                View
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Payment Methods Section -->
        <div class="billing-section" style="grid-column: 1 / -1;">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-credit-card section-icon"></i>
                    Payment Methods
                </h2>
                <button class="btn btn-primary" onclick="addPaymentMethod()">
                    <i class="fas fa-plus"></i>
                    Add Method
                </button>
            </div>
            
            <div class="payment-methods">
                <div class="payment-method default">
                    <div class="method-info">
                        <div class="method-icon">VISA</div>
                        <div class="method-details">
                            <h4>‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</h4>
                            <p>Expires 12/2025 ‚Ä¢ Default</p>
                        </div>
                    </div>
                    <div class="method-actions">
                        <button class="btn btn-sm btn-outline" onclick="editPaymentMethod('visa-4242')">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="deletePaymentMethod('visa-4242')" style="color: var(--error-color); border-color: var(--error-color);">
                            <i class="fas fa-trash"></i>
                            Delete
                        </button>
                    </div>
                </div>

                <div class="payment-method">
                    <div class="method-info">
                        <div class="method-icon" style="background: var(--warning-gradient);">MC</div>
                        <div class="method-details">
                            <h4>‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 8888</h4>
                            <p>Expires 08/2026</p>
                        </div>
                    </div>
                    <div class="method-actions">
                        <button class="btn btn-sm btn-outline" onclick="setDefault('mc-8888')">
                            <i class="fas fa-check"></i>
                            Set Default
                        </button>
                        <button class="btn btn-sm btn-outline" onclick="editPaymentMethod('mc-8888')">
                            <i class="fas fa-edit"></i>
                            Edit
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced JavaScript -->
    <script>
        // Professional Billing Platform Controller
        class BillingPlatform {
            constructor() {
                this.currentPlan = 'professional';
                this.billingHistory = [];
                this.paymentMethods = [];
                this.init();
            }

            init() {
                console.log('üí≥ SkillSync Billing Platform v2.0 Initialized');
                this.loadBillingData();
                this.setupEventListeners();
            }

            setupEventListeners() {
                // Global click handlers
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.toast')) {
                        e.target.closest('.toast').remove();
                    }
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.closeAllModals();
                    }
                });
            }

            loadBillingData() {
                // Simulate loading billing data
                setTimeout(() => {
                    this.billingHistory = [
                        {
                            id: 'INV-2024-001',
                            date: 'Feb 15, 2024',
                            amount: '‚Çπ2,999',
                            status: 'paid'
                        }
                    ];
                    console.log('üìä Billing data loaded');
                }, 500);
            }

            selectPlan(planType) {
                console.log('üìã Selected plan:', planType);
                
                const planNames = {
                    'starter': 'Starter Plan (‚Çπ999/month)',
                    'professional': 'Professional Plan (‚Çπ2,999/month)', 
                    'enterprise': 'Enterprise Plan (‚Çπ9,999/month)'
                };

                if (planType === this.currentPlan) {
                    this.showToast('This is your current plan', 'info');
                    return;
                }

                this.showToast(`Upgrading to ${planNames[planType]}...`, 'info');
                
                setTimeout(() => {
                    this.showToast(`Successfully upgraded to ${planNames[planType]}!`, 'success');
                    this.currentPlan = planType;
                }, 2000);
            }

            downloadHistory(format) {
                console.log('üì• Downloading history as:', format);
                
                const formatNames = {
                    'pdf': 'PDF Report',
                    'excel': 'Excel Spreadsheet',
                    'csv': 'CSV File'
                };

                this.showToast(`Preparing ${formatNames[format]}...`, 'info');
                
                setTimeout(() => {
                    this.showToast(`${formatNames[format]} downloaded successfully!`, 'success');
                    // Simulate file download
                    const link = document.createElement('a');
                    link.href = '#';
                    link.download = `billing-history.${format}`;
                    link.click();
                }, 1500);
            }

            viewInvoice(invoiceId) {
                console.log('üëÅÔ∏è Viewing invoice:', invoiceId);
                this.showToast(`Opening invoice ${invoiceId}...`, 'info');
                
                setTimeout(() => {
                    this.showToast('Invoice opened successfully', 'success');
                }, 1000);
            }

            addPaymentMethod() {
                console.log('üí≥ Adding payment method');
                this.showToast('Payment method form opening...', 'info');
            }

            editPaymentMethod(methodId) {
                console.log('‚úèÔ∏è Editing payment method:', methodId);
                this.showToast('Payment method editor opening...', 'info');
            }

            deletePaymentMethod(methodId) {
                console.log('üóëÔ∏è Deleting payment method:', methodId);
                
                if (confirm('Are you sure you want to delete this payment method?')) {
                    this.showToast('Payment method deleted successfully', 'success');
                }
            }

            setDefault(methodId) {
                console.log('‚≠ê Setting default payment method:', methodId);
                this.showToast('Default payment method updated', 'success');
            }

            openUpgradeModal() {
                console.log('üöÄ Opening upgrade modal');
                this.showToast('Upgrade options loading...', 'info');
            }

            closeAllModals() {
                // Close any open modals
                console.log('‚ùå Closing all modals');
            }

            showToast(message, type = 'info', duration = 4000) {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${this.getToastIcon(type)}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(toast);
                
                setTimeout(() => {
                    toast.style.animation = 'slideInRight 0.3s ease-out reverse';
                    setTimeout(() => {
                        if (toast.parentElement) toast.remove();
                    }, 300);
                }, duration);
            }

            getToastIcon(type) {
                const icons = {
                    success: 'check-circle',
                    error: 'exclamation-circle',
                    warning: 'exclamation-triangle',
                    info: 'info-circle'
                };
                return icons[type] || 'info-circle';
            }
        }

        // Global function wrappers for onclick events
        let billing;

        function selectPlan(planType) {
            billing.selectPlan(planType);
        }

        function downloadHistory(format) {
            billing.downloadHistory(format);
        }

        function viewInvoice(invoiceId) {
            billing.viewInvoice(invoiceId);
        }

        function addPaymentMethod() {
            billing.addPaymentMethod();
        }

        function editPaymentMethod(methodId) {
            billing.editPaymentMethod(methodId);
        }

        function deletePaymentMethod(methodId) {
            billing.deletePaymentMethod(methodId);
        }

        function setDefault(methodId) {
            billing.setDefault(methodId);
        }

        function openUpgradeModal() {
            billing.openUpgradeModal();
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            billing = new BillingPlatform();
        });
    </script>
</body>
</html>
